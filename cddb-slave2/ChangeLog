2002-02-10  Iain <iain@ximian.com>

	* GNOME_Media_CDDBSlave2.idl: Add some fun methods.

	* Makefile.am: Add cddb-parser.c

	* cddbs-alave.c: Add a cddb_cache.
	(remove_entry_from_cache): Remove the entry from the cache when
	something fails.
	(do_read_response): Parse the file into an entry.
	(everywhere): Disconnect on errors.
	(cddb_check_cache): Check the cddb_cache instead of the directory.
	(impl_GNOME_Media_CDDBSlave2_query): Create an Entry. Remove some
	debugging spew.
	(impl_GNOME_Media_CDDBSlave2_getArtist): Get the artists name.
	(impl_GNOME_Media_CDDBSlave2_getNTrks): Get NTrks.
	(impl_GNOME_Media_CDDBSlave2_getDiscTitle): Get disc name.
	(impl_GNOME_Media_CDDBSlave2_getTrackTitle): Get track title.
	(cddb_slave_init): Create a cddb_cache hash table.

	* cddb-slave.h: Make a CDDBEntry struct.
	
2002-02-03  Iain <iain@ximian.com>

	* cddb-slave.c (impl_GNOME_Media_CDDBSlave2_query): Initialise the tag
	to 0.
	(open_cb): Record the tag.
	(do_goodbye_response): Remove the tag.

2002-01-21  Iain Holmes  <iain@ximian.com>

	* cddb-slave.c (cddb_check_cache): Memory leak.

2002-01-26  Gediminas Paulauskas <menesis@delfi.lt>

	* main.c: get translations in UTF-8

2002-01-18  Iain Holmes  <iain@ximian.com>

	* cddb-slave.c: Remove some of the debugging crap.
	(do_read_response): If 409 is returned, call do_hello.
	(do_query_response): Ditto

2002-01-18  Iain Holmes  <iain@ximian.com>

	* cddb-slave.c (do_open_response): Close the connection if we haven't
	been able to log on.

2002-01-18  Iain Holmes  <iain@ximian.com>

	* cddb-slave.c (do_query_response): If response is 211, but only one
	match was returned, then just automatically select it.

2002-01-18  Iain Holmes  <iain@ximian.com>

	* cddb-slave.c: Modularise the commands and the responses.
	(display_results): Create a GUI to display multiple results.
	(create_model_from_list): Create a GtkTreeModel from a list of
	vectors.
	(do_query_response): If the result code is 211, collect a list of
	vectors, and display them then free the list.

2002-01-17  Iain Holmes  <iain@ximian.com>

	* main.c (main): Init the GUI as well.

2002-01-17  Iain Holmes  <iain@ximian.com>

	* cddb-slave.c: Doh, replace <gnet/gnet.h> with "gnet.h"

2002-01-16  Iain Holmes  <iain@ximian.com>

	* cddb-slave.c: Rewrite using gnet functions, rather than just
	plain HTTP.

	* COPYING.LIB: Gnet code license

	* README.GNET: Readme about gnet.

	* gnet.h
	  gnet-private.[ch]
	  inetaddr.[ch]
	  iochannel.[ch]
	  socks.[ch]
	  socks-private.[ch]
	  tcp.[ch]: Files from gnet.

2002-01-11  Iain Holmes  <iain@ximian.com>

	* main.c (main): Register everything in an idle loop.

2001-12-02  Iain Holmes  <iain@ximian.com>

	* cddb-slave.c (cddb_send_read): Update gnome_vfs_async_open.
	(cddb_send_cmd): Same.

2001-11-17  Iain Holmes  <iain@ximian.com>

	* cddb-slave-client.c: Replace CORBA_Object with GNOME_Media_CDDBSlave2
	(finalize): Destroy the objref if it is there.
	(cddb_slave_client_get_type): Replace GtkObjectInitFunc with
	GInstanceInitFunc.
	(cddb_slave_client_construct): Remove the #warning.

	* cddb-slave-client.h: Remove the bonobo-object-client.h include, add
	gobject.h
	Replace all the GTK_CHECK macros with G_TYPE ones.
	Replace BonoboObjectClient with GObject.
	Replace GtkType with GType.

2001-11-17  Iain Holmes  <iain@ximian.com>

	* cddb-slave.c: Remove gtk.h include

	* cddb-slave.h: Replace GtkType with GType and GTK_CHECK macros with
	the G_TYPE ones.

	* main.c: Replace bonobo.h with libbonobo.h
	(cddb_destroy_cb): Replace GtkObject with GObject and gtk_main_quit with
	bonobo_main_quit.
	(factory_fn): Add the component_id parameter. Replace GTK_SIGNAL_FUNC
	with G_CALLBACK.
	(main): Replace bonobo_ui_init with bonobo_init.
	
2001-11-17  Iain Holmes  <iain@ximian.com>

	* cddb-slave-client.c (cddb_slave_client_remove_listener): Correct the
	return type. Fix the inline docs too.

	* cddb-slave-client.h: Add some more function prototypes.

	* Makefile.am: Use the CDDBSLAVE link line

	* GNOME_Media_CDDBSlave2.idl: Add a Result enum and a QueryResult
	structure so that clients can get better error reporting.

	* cddb-slave.c (cddb_slave_notify_listeners): Take a result value as 
	well, and create a QueryResult structure to pass to the listeners.
	(cddb_close_data_cb): Pass the discid and result.
	(cddb_close_cb): Pass the discid and result.
	(cddb_open_cb): Pass the discid and result.
	(cddb_send_cmd): Pass the discid and result.
	(impl_GNOME_Media_CDDBSlave2_query): Pass the discid and result.
	
2001-11-03  Iain Holmes  <iain@ximian.com>

	* main.c (main): Updated for new glib-gettext
