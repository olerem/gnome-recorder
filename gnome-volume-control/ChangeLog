2008-11-06  William Jon McCann  <jmccann@redhat.com>

	* src/Makefile.am:
	* src/gvc-applet.c (on_menu_activate_open_volume_control),
	(on_status_icon_popup_menu):
	* src/gvc-mixer-dialog.c (on_stream_is_muted_notify), (add_stream),
	(gvc_mixer_dialog_constructor), (gvc_mixer_dialog_new):
	* src/gvc-sound-theme-chooser.c (theme_changed_custom_reinit),
	(on_combobox_changed), (load_index_theme_name),
	(sound_theme_in_dir), (add_theme_to_store),
	(set_combox_for_theme_name), (on_theme_changed),
	(setup_theme_selector), (visual_bell_gconf_to_setting),
	(visual_bell_setting_to_gconf), (play_sound_preview),
	(get_sound_filename), (count_customised_sounds), (save_sounds),
	(save_custom_theme), (dump_theme), (on_setting_column_edited),
	(fill_visual_bell_model), (fill_custom_model),
	(on_combobox_editing_started), (play_sound_at_path),
	(on_treeview_button_press_event), (setting_set_func),
	(activatable_cell_renderer_pixbuf_activate),
	(activatable_cell_renderer_pixbuf_init),
	(activatable_cell_renderer_pixbuf_class_init),
	(input_feedback_foreach), (set_input_feedback_enabled),
	(on_input_feedback_changed), (audible_bell_foreach),
	(set_audible_bell_enabled), (on_audible_bell_changed),
	(get_file_type), (theme_changed_custom_init),
	(setup_theme_custom_selector),
	(gvc_sound_theme_chooser_constructor),
	(gvc_sound_theme_chooser_class_init), (_gtk_label_make_bold),
	(gvc_sound_theme_chooser_init), (gvc_sound_theme_chooser_finalize),
	(gvc_sound_theme_chooser_new):
	* src/gvc-sound-theme-chooser.h:
	* src/sound-theme-file-utils.c (custom_theme_update_time),
	(custom_theme_dir_path), (directory_delete_recursive),
	(capplet_file_delete_recursive), (delete_custom_theme_dir),
	(delete_one_file), (delete_old_files), (delete_disabled_files),
	(create_one_file), (add_disabled_file), (add_custom_file):
	* src/sound-theme-file-utils.h:
	Redesign a bit in order to incorporate the sound properties.

2008-11-05  William Jon McCann  <jmccann@redhat.com>

	* src/gvc-applet.c (popup_dock), (on_bar_is_muted_notify),
	(gvc_applet_init):
	* src/gvc-channel-bar.c (on_zero_adjustment_value_changed),
	(update_mute_button), (gvc_channel_bar_init):
	Fix initial mute setting for applet.  When mute button
	is not displayed use the "zero" position to indicate
	muted state.

2008-11-05  William Jon McCann  <jmccann@redhat.com>

	* src/gvc-applet.c (gvc_applet_init):
	* src/gvc-channel-bar.c (_scale_box_new),
	(gvc_channel_bar_set_orientation), (update_mute_button),
	(gvc_channel_bar_set_show_mute), (gvc_channel_bar_get_show_mute),
	(gvc_channel_bar_set_property), (gvc_channel_bar_get_property),
	(gvc_channel_bar_constructor), (gvc_channel_bar_class_init),
	(gvc_channel_bar_init):
	* src/gvc-channel-bar.h:
	* src/gvc-mixer-dialog.c (add_stream):
	Hide mute in vertical mode.  Add icons to hint at scale direction
	in horizontal mode.  Fix orientation changing.

2008-11-05  William Jon McCann  <jmccann@redhat.com>

	* src/Makefile.am:
	* src/gvc-mixer-control.c (gvc_mixer_control_get_default_source),
	(gvc_mixer_control_get_sources), (remove_stream), (add_stream),
	(update_sink), (update_source), (update_sink_input),
	(update_event_role_stream), (remove_sink), (remove_source),
	(remove_sink_input), (remove_source_output):
	* src/gvc-mixer-control.h:
	* src/gvc-mixer-dialog.c (add_stream),
	(gvc_mixer_dialog_constructor):
	* src/gvc-mixer-source.c (gvc_mixer_source_change_volume),
	(gvc_mixer_source_change_is_muted), (gvc_mixer_source_constructor),
	(gvc_mixer_source_class_init), (gvc_mixer_source_init),
	(gvc_mixer_source_finalize), (gvc_mixer_source_new):
	* src/gvc-mixer-source.h:
	Add support for input streams.  Only show default input and
	output stream.

2008-11-05  William Jon McCann  <jmccann@redhat.com>

	* src/gvc-applet.c (gvc_applet_dispose), (on_control_ready):
	* src/gvc-channel-bar.c (gvc_channel_bar_finalize):
	* src/gvc-mixer-control.c (gvc_mixer_control_get_event_sink_input),
	(gvc_mixer_control_get_default_sink),
	(gvc_mixer_control_lookup_stream_id), (update_sink),
	(update_sink_input), (update_event_role_stream),
	(gvc_mixer_control_dispose), (gvc_mixer_control_init):
	* src/gvc-mixer-control.h:
	* src/gvc-mixer-dialog.c (on_control_stream_added),
	(on_control_stream_removed), (gvc_mixer_dialog_constructor),
	(gvc_mixer_dialog_dispose), (gvc_mixer_dialog_class_init):
	* src/gvc-mixer-stream.c (gvc_mixer_stream_finalize):
	Fix leaks.  Use ids instead of indexes when possible.
	Add method to lookup stream by id.

2008-11-04  Marc-Andr√© Lureau  <marcandre.lureau@gmail.com>

	* src/gvc-mixer-dialog.c (gvc_mixer_dialog_constructor): Compile
	with gtk+ <= 2.14.

2008-11-03  William Jon McCann  <jmccann@redhat.com>

	* src/gvc-applet.c (on_menu_activate_sounds),
	(on_status_icon_popup_menu):
	Add sound properties to menu.

2008-11-03  William Jon McCann  <jmccann@redhat.com>

	* src/gvc-applet.c (gvc_applet_init):
	status-icon scroll events only available in gtk+ 2.15.0

2008-11-03  William Jon McCann  <jmccann@redhat.com>

	* Makefile.am (SUBDIRS):
	Add data dir.

2008-11-03  William Jon McCann  <jmccann@redhat.com>

	* data/Makefile.am:
	* data/gnome-volume-control-applet.desktop.in:
	Install an autostart file for the volume applet

2008-11-03  William Jon McCann  <jmccann@redhat.com>

	* AUTHORS:
	* Makefile.am:
	* src/Makefile.am:
	* src/applet-main.c (on_bus_name_lost), (acquire_name_on_proxy),
	(acquire_name), (main):
	* src/dialog-main.c (on_bus_name_lost), (acquire_name_on_proxy),
	(acquire_name), (on_dialog_response), (on_control_ready), (main):
	* src/gvc-applet.c (maybe_show_status_icon), (gvc_applet_start),
	(gvc_applet_dispose), (gvc_applet_constructor),
	(gvc_applet_class_init), (on_adjustment_value_changed),
	(popup_dock), (on_status_icon_activate),
	(on_menu_activate_open_volume_control),
	(on_status_icon_popup_menu), (on_status_icon_scroll_event),
	(gvc_applet_release_grab), (on_dock_button_press), (popdown_dock),
	(gvc_applet_grab_notify), (on_dock_grab_notify),
	(on_dock_grab_broken_event), (on_dock_key_release), (update_icon),
	(on_stream_volume_notify), (on_stream_is_muted_notify),
	(on_control_ready), (on_bar_is_muted_notify), (gvc_applet_init),
	(gvc_applet_finalize), (gvc_applet_new):
	* src/gvc-applet.h:
	* src/gvc-channel-bar.c (_scale_box_new), (update_image),
	(update_label), (gvc_channel_bar_set_name),
	(gvc_channel_bar_set_icon_name), (gvc_channel_bar_set_orientation),
	(gvc_channel_bar_set_adjustment), (gvc_channel_bar_get_adjustment),
	(update_mute_button), (gvc_channel_bar_set_is_muted),
	(gvc_channel_bar_get_is_muted), (gvc_channel_bar_set_property),
	(gvc_channel_bar_get_property), (gvc_channel_bar_constructor),
	(gvc_channel_bar_class_init), (on_mute_button_toggled),
	(gvc_channel_bar_init), (gvc_channel_bar_finalize),
	(gvc_channel_bar_new):
	* src/gvc-channel-bar.h:
	* src/gvc-mixer-control.c (gvc_mixer_control_get_event_sink_input),
	(gvc_mixer_control_get_default_sink), (listify_hash_values_hfunc),
	(gvc_stream_collate), (gvc_mixer_control_get_sinks),
	(gvc_mixer_control_get_sink_inputs), (dec_outstanding),
	(gvc_mixer_control_is_ready), (update_server), (update_sink),
	(update_source), (set_icon_name_from_proplist),
	(update_sink_input), (update_source_output), (update_client),
	(_pa_context_get_sink_info_cb), (_pa_context_get_source_info_cb),
	(_pa_context_get_sink_input_info_cb),
	(_pa_context_get_source_output_info_cb),
	(_pa_context_get_client_info_cb), (_pa_context_get_server_info_cb),
	(remove_event_role_stream), (update_event_role_stream),
	(_pa_ext_stream_restore_read_cb),
	(_pa_ext_stream_restore_subscribe_cb), (req_update_server_info),
	(req_update_client_info), (req_update_sink_info),
	(req_update_source_info), (req_update_sink_input_info),
	(req_update_source_output_info), (remove_client), (remove_sink),
	(remove_source), (remove_sink_input), (remove_source_output),
	(_pa_context_subscribe_cb), (gvc_mixer_control_ready),
	(_pa_context_state_cb), (gvc_mixer_control_open),
	(gvc_mixer_control_close), (gvc_mixer_control_dispose),
	(gvc_mixer_control_constructor), (gvc_mixer_control_class_init),
	(gvc_mixer_control_init), (gvc_mixer_control_finalize),
	(gvc_mixer_control_new):
	* src/gvc-mixer-control.h:
	* src/gvc-mixer-dialog.c (gvc_mixer_dialog_set_mixer_control),
	(gvc_mixer_dialog_get_mixer_control),
	(gvc_mixer_dialog_set_property), (gvc_mixer_dialog_get_property),
	(on_adjustment_value_changed), (on_bar_is_muted_notify),
	(lookup_bar_for_stream), (on_stream_volume_notify),
	(on_stream_is_muted_notify), (save_bar_for_stream), (add_stream),
	(gvc_mixer_dialog_constructor), (gvc_mixer_dialog_class_init),
	(gvc_mixer_dialog_init), (gvc_mixer_dialog_finalize),
	(gvc_mixer_dialog_new):
	* src/gvc-mixer-dialog.h:
	* src/gvc-mixer-sink-input.c (gvc_mixer_sink_input_change_volume),
	(gvc_mixer_sink_input_change_is_muted),
	(gvc_mixer_sink_input_constructor),
	(gvc_mixer_sink_input_class_init), (gvc_mixer_sink_input_init),
	(gvc_mixer_sink_input_finalize), (gvc_mixer_sink_input_new):
	* src/gvc-mixer-sink-input.h:
	* src/gvc-mixer-sink.c (gvc_mixer_sink_change_volume),
	(gvc_mixer_sink_change_is_muted), (gvc_mixer_sink_constructor),
	(gvc_mixer_sink_class_init), (gvc_mixer_sink_init),
	(gvc_mixer_sink_finalize), (gvc_mixer_sink_new):
	* src/gvc-mixer-sink.h:
	* src/gvc-mixer-stream.c (get_next_stream_serial),
	(gvc_mixer_stream_get_pa_context), (gvc_mixer_stream_get_index),
	(gvc_mixer_stream_get_id), (gvc_mixer_stream_get_num_channels),
	(gvc_mixer_stream_get_volume), (gvc_mixer_stream_set_volume),
	(gvc_mixer_stream_get_is_muted), (gvc_mixer_stream_get_is_default),
	(gvc_mixer_stream_set_is_muted), (gvc_mixer_stream_set_is_default),
	(gvc_mixer_stream_get_name), (gvc_mixer_stream_set_name),
	(gvc_mixer_stream_get_icon_name), (gvc_mixer_stream_set_icon_name),
	(gvc_mixer_stream_set_property), (gvc_mixer_stream_get_property),
	(gvc_mixer_stream_constructor),
	(gvc_mixer_stream_real_change_volume),
	(gvc_mixer_stream_real_change_is_muted),
	(gvc_mixer_stream_change_volume),
	(gvc_mixer_stream_change_is_muted), (gvc_mixer_stream_class_init),
	(gvc_mixer_stream_init), (gvc_mixer_stream_finalize):
	* src/gvc-mixer-stream.h:
	Initial commit.

